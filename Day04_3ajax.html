<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax</title>
</head>
<body>
    <button id="get">Get요청</button>
    <button id="post">Post요청</button>
    <button id="clear">지우기</button>
    <pre id="content">123456</pre>
    <script>
        // Ajax : 비동기로 다른 곳에 무언가를 요청
        // GET, POST
        document.getElementById('get').addEventListener('click',function(){
            // fetch
            fetch('https://httpbin.org/get')
            .then(받음 => 받음.text())
            .then(data => {
                document.getElementById('content').innerHTML = data

            })
        })

        document.getElementById('clear').addEventListener('click',function(){
            document.getElementById('content').innerHTML = '';
        })
        
        // post 요청(보안, 긴문자)
        document.getElementById('post').addEventListener('click', () =>{
            fetch('https://httpbin.org/post',{
                method : 'POST',
                headers : {
                    'Content-Type' : 'application/json'
                },
                body:json.stringify({

                })
            }) 
            .then((받은거)=>{
                // 다 받을때까지 기다린 다음
                // json 형태로 만들어 return으로 밑에 전달
                return  받은거.json() // retrun 하면 밑에 then에 전달
            })
            .then((다받음)=>{
                // text() : 바로 써도 됨
                // json() : JSON.stringify로 변환 후 사용
                document.getElementById('content').innerHTML = JSON.stringify(다받음)
            })
        })

        // 화살표 함수
        // function(){}
        // () => {}
        // (한개) => {}
        // 한개 => {}
        //() => { return 1 } === () => 1
        // () => {한줄; 두줄; return 1;}
        
    </script>
</body>
</html>